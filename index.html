<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-62YF7Y81BS"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-62YF7Y81BS');
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Omkar Ray</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Newsreader:ital,wght@0,400;0,500;1,400&display=swap" rel="stylesheet">
</head>
<body>

  <!-- ─── Daily AI Fact ─── -->
  <div class="fact-strip" id="factStrip">
    <span class="fact-label">Today's fact</span>
    <span class="fact-text" id="factText"></span>
    <a class="fact-source" id="factSource" href="#"></a>
    <button class="fact-close" id="factClose" type="button" aria-label="Dismiss">&times;</button>
  </div>

  <!-- ─── Hero ─── -->
  <section class="hero">
    <h1 class="hero-name">Omkar Ray</h1>
    <p class="hero-bio">Curious, first principles thinker. AMA Music, Tech and Product.</p>
    <div class="hero-links">
      <a href="https://x.com/OmkarRay9" target="_blank" rel="noopener">X</a>
      <a href="https://www.linkedin.com/in/omkarray/" target="_blank" rel="noopener">LinkedIn</a>
      <a href="https://omkarray.substack.com/" target="_blank" rel="noopener">Substack</a>
      <a href="mailto:omkardray.mml@gmail.com">Email</a>
    </div>
  </section>

  <!-- ─── Spotify Random Song ─── -->
  <div class="sp-float" id="spFloat">
    <button class="sp-fab" id="spFab" type="button" aria-label="Play a random song">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/></svg>
    </button>
    <div class="sp-player" id="spPlayer">
      <div class="sp-player-bar">
        <button class="sp-shuffle-btn" id="spShuffle" type="button" aria-label="Shuffle to another song">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 3 21 3 21 8"/><line x1="4" y1="20" x2="21" y2="3"/><polyline points="21 16 21 21 16 21"/><line x1="15" y1="15" x2="21" y2="21"/><line x1="4" y1="4" x2="9" y2="9"/></svg>
        </button>
        <button class="sp-close-btn" id="spClose" type="button" aria-label="Close player">&times;</button>
      </div>
      <div class="sp-player-embed" id="spEmbed"></div>
    </div>
  </div>

  <!-- ─── Floppy Section ─── -->
  <div class="floppy-section">
    <p class="floppy-section-label">What I write about</p>

    <!-- Row 1: Deepdives · Thesis · Blogs -->
    <div class="floppy-row">
      <div class="floppy fade-in" data-folder="deepdives" tabindex="0" role="button" aria-expanded="false">
        <div class="floppy-disk">
          <svg viewBox="0 0 170 176" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="1" y="1" width="168" height="174" rx="8" fill="#E8E5D8" stroke="#D6D3C6" stroke-width="1"/>
            <rect class="floppy-shutter" x="36" y="1" width="98" height="42" rx="3" fill="#C8C5B8"/>
            <rect x="68" y="7" width="34" height="30" rx="2" fill="#B0ADA0"/>
            <rect x="20" y="68" width="130" height="96" rx="4" fill="#fdf0ee" stroke="#e8c4be" stroke-width="0.5"/>
            <line x1="30" y1="102" x2="140" y2="102" stroke="#e8c4be" stroke-width="0.4"/>
            <line x1="30" y1="116" x2="140" y2="116" stroke="#e8c4be" stroke-width="0.4"/>
            <line x1="30" y1="130" x2="140" y2="130" stroke="#e8c4be" stroke-width="0.4"/>
            <line x1="30" y1="144" x2="140" y2="144" stroke="#e8c4be" stroke-width="0.4"/>
            <text x="85" y="88" text-anchor="middle" font-family="Inter, sans-serif" font-size="13" font-weight="600" fill="#993025">Deepdives</text>
            <rect x="4" y="4" width="14" height="14" rx="3" fill="#D6D3C6"/>
          </svg>
        </div>
        <span class="floppy-count">9 explorations</span>
      </div>

      <div class="floppy fade-in" data-folder="thesis" tabindex="0" role="button" aria-expanded="false">
        <div class="floppy-disk">
          <svg viewBox="0 0 170 176" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="1" y="1" width="168" height="174" rx="8" fill="#E8E5D8" stroke="#D6D3C6" stroke-width="1"/>
            <rect class="floppy-shutter" x="36" y="1" width="98" height="42" rx="3" fill="#C8C5B8"/>
            <rect x="68" y="7" width="34" height="30" rx="2" fill="#B0ADA0"/>
            <rect x="20" y="68" width="130" height="96" rx="4" fill="#eef2f8" stroke="#b8c8de" stroke-width="0.5"/>
            <line x1="30" y1="102" x2="140" y2="102" stroke="#b8c8de" stroke-width="0.4"/>
            <line x1="30" y1="116" x2="140" y2="116" stroke="#b8c8de" stroke-width="0.4"/>
            <line x1="30" y1="130" x2="140" y2="130" stroke="#b8c8de" stroke-width="0.4"/>
            <line x1="30" y1="144" x2="140" y2="144" stroke="#b8c8de" stroke-width="0.4"/>
            <text x="85" y="88" text-anchor="middle" font-family="Inter, sans-serif" font-size="13" font-weight="600" fill="#1a4a7a">Thesis</text>
            <rect x="4" y="4" width="14" height="14" rx="3" fill="#D6D3C6"/>
          </svg>
        </div>
        <span class="floppy-count">3 theses</span>
      </div>

      <div class="floppy fade-in" data-folder="blogs" tabindex="0" role="button" aria-expanded="false">
        <div class="floppy-disk">
          <svg viewBox="0 0 170 176" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="1" y="1" width="168" height="174" rx="8" fill="#E8E5D8" stroke="#D6D3C6" stroke-width="1"/>
            <rect class="floppy-shutter" x="36" y="1" width="98" height="42" rx="3" fill="#C8C5B8"/>
            <rect x="68" y="7" width="34" height="30" rx="2" fill="#B0ADA0"/>
            <rect x="20" y="68" width="130" height="96" rx="4" fill="#f2f2f0" stroke="#d4d4d0" stroke-width="0.5"/>
            <line x1="30" y1="102" x2="140" y2="102" stroke="#d4d4d0" stroke-width="0.4"/>
            <line x1="30" y1="116" x2="140" y2="116" stroke="#d4d4d0" stroke-width="0.4"/>
            <line x1="30" y1="130" x2="140" y2="130" stroke="#d4d4d0" stroke-width="0.4"/>
            <line x1="30" y1="144" x2="140" y2="144" stroke="#d4d4d0" stroke-width="0.4"/>
            <text x="85" y="88" text-anchor="middle" font-family="Inter, sans-serif" font-size="13" font-weight="600" fill="#2a2a28">Blogs</text>
            <rect x="4" y="4" width="14" height="14" rx="3" fill="#D6D3C6"/>
          </svg>
        </div>
        <span class="floppy-count">5 posts</span>
      </div>
    </div>

    <!-- Folder content: Deepdives -->
    <div class="folder-wrapper" data-for="deepdives">
      <div class="folder-content">
        <div class="folder-header">
          <span class="folder-title">Deepdives</span>
          <button class="folder-close" aria-label="Close folder">&times;</button>
        </div>
        <p class="folder-subtitle">Long-form explorations into topics I find fascinating.</p>
        <div class="card-grid">
          <a href="visa-deepdive.html" class="card" data-cat="fintech">
            <span class="card-tag">Fintech</span>
            <h3>Visa's Product Ecosystem</h3>
            <p>How the world's largest payment network is expanding from cards to a $200T money movement platform.</p>
            <span class="card-date">Feb 2026</span>
          </a>
          <a href="embedded-finance-agents.html" class="card" data-cat="fintech">
            <span class="card-tag">Fintech × AI</span>
            <h3>Embedded Finance 2.0</h3>
            <p>When fintech becomes a function call — the protocol stack being built for agent-first commerce.</p>
            <span class="card-date">Feb 2026</span>
          </a>
          <a href="agent-design-deepdive.html" class="card" data-cat="agents">
            <span class="card-tag">AI Agents</span>
            <h3>Agent Design Patterns</h3>
            <p>Seven context management patterns powering Claude Code, Manus, and Cursor.</p>
            <span class="card-date">Feb 2026</span>
          </a>
          <a href="seeing-like-an-agent.html" class="card" data-cat="agents">
            <span class="card-tag">AI Agents</span>
            <h3>Seeing Like an Agent</h3>
            <p>Tool design, action spaces, and progressive disclosure from Claude Code.</p>
            <span class="card-date">Feb 2026</span>
          </a>
          <a href="india-ecomm-genai.html" class="card" data-cat="ecomm">
            <span class="card-tag">India E-Commerce</span>
            <h3>Indian E-Comm × GenAI</h3>
            <p>How Flipkart, Swiggy, Meesho, and Amazon India deploy GenAI across commerce.</p>
            <span class="card-date">Feb 2026</span>
          </a>
          <a href="datacenter.html" class="card" data-cat="infra">
            <span class="card-tag">Infrastructure</span>
            <h3>Building a Datacenter</h3>
            <p>Six layers forced into simultaneous transition by Nvidia's GPU power density roadmap.</p>
            <span class="card-date">Feb 2026</span>
          </a>
          <a href="bolna-deepdive.html" class="card" data-cat="voice-ai">
            <span class="card-tag">Voice AI</span>
            <h3>Bolna AI</h3>
            <p>Product capabilities, competitive moat, wrapper analysis for India's leading Voice AI platform.</p>
            <span class="card-date">Feb 2026</span>
          </a>
          <a href="smallest-deepdive.html" class="card" data-cat="voice-ai">
            <span class="card-tag">Voice AI</span>
            <h3>Smallest.ai</h3>
            <p>Full-stack model-company analysis: proprietary ASR, LLM, TTS, and moat layers.</p>
            <span class="card-date">Feb 2026</span>
          </a>
          <a href="ringg-deepdive.html" class="card" data-cat="voice-ai">
            <span class="card-tag">Voice AI</span>
            <h3>Ringg.ai</h3>
            <p>Distribution-first no-code voice platform: wrapper risk, GTM moat, and path forward.</p>
            <span class="card-date">Feb 2026</span>
          </a>
        </div>
      </div>
    </div>

    <!-- Folder content: Thesis -->
    <div class="folder-wrapper" data-for="thesis">
      <div class="folder-content">
        <div class="folder-header">
          <span class="folder-title">Thesis</span>
          <button class="folder-close" aria-label="Close folder">&times;</button>
        </div>
        <p class="folder-subtitle">Structured thinking on themes I'm obsessed with.</p>
        <div class="thesis-grid">
          <a href="mixpanel-voice-ai.html" class="thesis-card">
            <span class="thesis-number">01</span>
            <div class="thesis-header">
              <span class="thesis-theme">Voice AI</span>
              <span class="thesis-arrow">&rarr;</span>
            </div>
            <h3>Mixpanel for Voice AI</h3>
            <p>Every voice AI platform today ships call logs and basic metrics. None ships the product analytics layer that actually matters: conversation funnels, turn-level drop-off, barge-in rates, intent resolution heatmaps.</p>
            <div class="thesis-tags">
              <span>Voice Analytics</span>
              <span>Conversation Intelligence</span>
              <span>Product-Led Growth</span>
            </div>
          </a>
          <a href="rl-environments.html" class="thesis-card">
            <span class="thesis-number">02</span>
            <div class="thesis-header">
              <span class="thesis-theme">AI Infrastructure</span>
              <span class="thesis-arrow">&rarr;</span>
            </div>
            <h3>RL Environments Are the New Data Moat</h3>
            <p>The AI industry ran on static data for a decade. That era is ending. As RL scaling consumes environment interactions, not tokens, the companies building the gyms where agents train may capture more durable value.</p>
            <div class="thesis-tags">
              <span>Reinforcement Learning</span>
              <span>AI Infrastructure</span>
              <span>Agent Training</span>
            </div>
          </a>
          <a href="physical-ai-india.html" class="thesis-card">
            <span class="thesis-number">03</span>
            <div class="thesis-header">
              <span class="thesis-theme">Physical AI</span>
              <span class="thesis-arrow">&rarr;</span>
            </div>
            <h3>Physical AI &amp; Robotics: The India Thesis</h3>
            <p>India&rsquo;s $1.98B robotics market sits at the intersection of a manufacturing capex super-cycle, the world&rsquo;s fifth-largest rare earth reserves, and 20% of global chip design talent.</p>
            <div class="thesis-tags">
              <span>Robotics</span>
              <span>India Supply Chain</span>
              <span>Rare Earth</span>
            </div>
          </a>
        </div>
      </div>
    </div>

    <!-- Folder content: Blogs -->
    <div class="folder-wrapper" data-for="blogs">
      <div class="folder-content">
        <div class="folder-header">
          <span class="folder-title">Blogs</span>
          <button class="folder-close" aria-label="Close folder">&times;</button>
        </div>
        <p class="folder-subtitle">Shorter thoughts, observations, and notes from the field.</p>
        <div class="blog-list">
          <a href="https://omkarray.substack.com/p/taste-is-the-new-bottleneck" class="blog-item" target="_blank" rel="noopener">
            <span class="blog-date">Feb 16, 2026</span>
            <h3>Taste Is the New Bottleneck</h3>
            <span class="blog-arrow">&rarr;</span>
          </a>
          <a href="https://omkarray.substack.com/p/the-world-model-gold-rush-why-most" class="blog-item" target="_blank" rel="noopener">
            <span class="blog-date">Feb 9, 2026</span>
            <h3>The World Model Gold Rush: Why Most Will Fail (And Who Will Win)</h3>
            <span class="blog-arrow">&rarr;</span>
          </a>
          <a href="https://omkarray.substack.com/p/why-just-use-chatgpt-is-a-strategic" class="blog-item" target="_blank" rel="noopener">
            <span class="blog-date">Dec 12, 2025</span>
            <h3>Why "Just Use ChatGPT" Is a Strategic Failure</h3>
            <span class="blog-arrow">&rarr;</span>
          </a>
          <a href="https://omkarray.substack.com/p/indias-glp-1-moment" class="blog-item" target="_blank" rel="noopener">
            <span class="blog-date">Dec 3, 2025</span>
            <h3>India's GLP-1 Moment</h3>
            <span class="blog-arrow">&rarr;</span>
          </a>
          <a href="https://omkarray.substack.com/p/will-meesho-take-the-10-minute-delivery" class="blog-item" target="_blank" rel="noopener">
            <span class="blog-date">Nov 28, 2025</span>
            <h3>Will Meesho Take the 10-Minute Delivery Route?</h3>
            <span class="blog-arrow">&rarr;</span>
          </a>
        </div>
      </div>
    </div>

    <!-- Row 2: Fintech · AI/ML · Maths -->
    <div class="floppy-row">
      <div class="floppy fade-in" data-folder="fintech" tabindex="0" role="button" aria-expanded="false">
        <div class="floppy-disk">
          <svg viewBox="0 0 170 176" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="1" y="1" width="168" height="174" rx="8" fill="#E8E5D8" stroke="#D6D3C6" stroke-width="1"/>
            <rect class="floppy-shutter" x="36" y="1" width="98" height="42" rx="3" fill="#C8C5B8"/>
            <rect x="68" y="7" width="34" height="30" rx="2" fill="#B0ADA0"/>
            <rect x="20" y="68" width="130" height="96" rx="4" fill="#eef6f0" stroke="#b8d8be" stroke-width="0.5"/>
            <line x1="30" y1="102" x2="140" y2="102" stroke="#b8d8be" stroke-width="0.4"/>
            <line x1="30" y1="116" x2="140" y2="116" stroke="#b8d8be" stroke-width="0.4"/>
            <line x1="30" y1="130" x2="140" y2="130" stroke="#b8d8be" stroke-width="0.4"/>
            <line x1="30" y1="144" x2="140" y2="144" stroke="#b8d8be" stroke-width="0.4"/>
            <text x="85" y="88" text-anchor="middle" font-family="Inter, sans-serif" font-size="13" font-weight="600" fill="#1e6b3c">Fintech</text>
            <rect x="4" y="4" width="14" height="14" rx="3" fill="#D6D3C6"/>
          </svg>
        </div>
        <span class="floppy-count">Themes &amp; reading</span>
      </div>

      <div class="floppy fade-in" data-folder="aiml" tabindex="0" role="button" aria-expanded="false">
        <div class="floppy-disk">
          <svg viewBox="0 0 170 176" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="1" y="1" width="168" height="174" rx="8" fill="#E8E5D8" stroke="#D6D3C6" stroke-width="1"/>
            <rect class="floppy-shutter" x="36" y="1" width="98" height="42" rx="3" fill="#C8C5B8"/>
            <rect x="68" y="7" width="34" height="30" rx="2" fill="#B0ADA0"/>
            <rect x="20" y="68" width="130" height="96" rx="4" fill="#f4eef8" stroke="#ccb8de" stroke-width="0.5"/>
            <line x1="30" y1="102" x2="140" y2="102" stroke="#ccb8de" stroke-width="0.4"/>
            <line x1="30" y1="116" x2="140" y2="116" stroke="#ccb8de" stroke-width="0.4"/>
            <line x1="30" y1="130" x2="140" y2="130" stroke="#ccb8de" stroke-width="0.4"/>
            <line x1="30" y1="144" x2="140" y2="144" stroke="#ccb8de" stroke-width="0.4"/>
            <text x="85" y="88" text-anchor="middle" font-family="Inter, sans-serif" font-size="13" font-weight="600" fill="#5a2080">AI / ML</text>
            <rect x="4" y="4" width="14" height="14" rx="3" fill="#D6D3C6"/>
          </svg>
        </div>
        <span class="floppy-count">Topics &amp; 80-day plan</span>
      </div>

      <div class="floppy fade-in" data-folder="maths" tabindex="0" role="button" aria-expanded="false">
        <div class="floppy-disk">
          <svg viewBox="0 0 170 176" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="1" y="1" width="168" height="174" rx="8" fill="#E8E5D8" stroke="#D6D3C6" stroke-width="1"/>
            <rect class="floppy-shutter" x="36" y="1" width="98" height="42" rx="3" fill="#C8C5B8"/>
            <rect x="68" y="7" width="34" height="30" rx="2" fill="#B0ADA0"/>
            <rect x="20" y="68" width="130" height="96" rx="4" fill="#f8f4ec" stroke="#ddd0b0" stroke-width="0.5"/>
            <line x1="30" y1="102" x2="140" y2="102" stroke="#ddd0b0" stroke-width="0.4"/>
            <line x1="30" y1="116" x2="140" y2="116" stroke="#ddd0b0" stroke-width="0.4"/>
            <line x1="30" y1="130" x2="140" y2="130" stroke="#ddd0b0" stroke-width="0.4"/>
            <line x1="30" y1="144" x2="140" y2="144" stroke="#ddd0b0" stroke-width="0.4"/>
            <text x="85" y="88" text-anchor="middle" font-family="Inter, sans-serif" font-size="13" font-weight="600" fill="#8a5a00">Maths</text>
            <rect x="4" y="4" width="14" height="14" rx="3" fill="#D6D3C6"/>
          </svg>
        </div>
        <span class="floppy-count">7 topics</span>
      </div>
    </div>

    <!-- Folder content: Fintech -->
    <div class="folder-wrapper" data-for="fintech">
      <div class="folder-content">
        <div class="folder-header">
          <span class="folder-title">Fintech</span>
          <button class="folder-close" aria-label="Close folder">&times;</button>
        </div>
        <p class="folder-subtitle">Themes I track closely at the intersection of finance, regulation, and AI-native products.</p>
        <div class="knowledge-grid">
          <div class="knowledge-card">
            <div class="knowledge-header">
              <span class="knowledge-theme">Areas of Focus</span>
            </div>
            <div class="knowledge-tags">
              <span>Payments Infrastructure</span>
              <span>Lending &amp; Underwriting</span>
              <span>Risk &amp; Fraud Systems</span>
              <span>RegTech &amp; Compliance</span>
              <span>Embedded Finance</span>
              <span>Agentic Commerce</span>
            </div>
            <p class="reading-list-label">Reading</p>
            <div class="reading-list">
              <a href="https://d91labs.substack.com/p/understanding-the-mechanics-of-digital" class="reading-item" target="_blank" rel="noopener">
                <span class="reading-title">Understanding the Mechanics of Digital Lending in India</span>
                <span class="reading-ext">&nearr;</span>
              </a>
              <a href="https://d91labs.substack.com/p/decoding-emerging-digital-lending" class="reading-item" target="_blank" rel="noopener">
                <span class="reading-title">Decoding Emerging Digital Lending Models in India</span>
                <span class="reading-ext">&nearr;</span>
              </a>
              <a href="https://d91labs.substack.com/p/decoding-the-fintech-revolution-in" class="reading-item" target="_blank" rel="noopener">
                <span class="reading-title">Decoding the Fintech Revolution in Underwriting</span>
                <span class="reading-ext">&nearr;</span>
              </a>
              <a href="https://d91labs.substack.com/p/how-fintech-is-solving-for-debt-collections" class="reading-item" target="_blank" rel="noopener">
                <span class="reading-title">How Fintech is Solving for Debt Collections</span>
                <span class="reading-ext">&nearr;</span>
              </a>
              <a href="https://www.thepaintedstork.com/p/68-upis-monopoly-problem-infra-ownership" class="reading-item" target="_blank" rel="noopener">
                <span class="reading-title">The UPI Bottleneck: Full Stack Ambitions, Zero MDR Reality</span>
                <span class="reading-ext">&nearr;</span>
              </a>
              <a href="https://www.thepaintedstork.com/p/81-credit-lines-on-upi-clou-will" class="reading-item" target="_blank" rel="noopener">
                <span class="reading-title">Credit Lines on UPI (CLOU): Will It Eat Small Ticket Lending?</span>
                <span class="reading-ext">&nearr;</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Folder content: AI/ML -->
    <div class="folder-wrapper" data-for="aiml">
      <div class="folder-content">
        <div class="folder-header">
          <span class="folder-title">AI/ML</span>
          <button class="folder-close" aria-label="Close folder">&times;</button>
        </div>
        <p class="folder-subtitle">Core machine learning areas I actively study, build with, and write about.</p>
        <ul class="topic-list">
          <li>
            <a href="transformers.html">
              <span class="topic-title">Transformers</span>
              <span class="topic-subtitle">Attention Is All You Need, and Why</span>
            </a>
          </li>
          <li>
            <span>
              <span class="topic-title">Reinforcement Learning</span>
              <span class="topic-subtitle">Learning from Reward, Not Labels</span>
            </span>
          </li>
          <li>
            <span>
              <span class="topic-title">AI Agents</span>
              <span class="topic-subtitle">Agents That Plan, Act, and Recover</span>
            </span>
          </li>
          <li>
            <a href="llm-evals.html">
              <span class="topic-title">LLM Evaluation</span>
              <span class="topic-subtitle">When Benchmarks Lie: The Maths of LLM Evals</span>
            </a>
          </li>
          <li>
            <a href="rag.html">
              <span class="topic-title">RAG</span>
              <span class="topic-subtitle">Retrieval-Augmented Generation Done Right</span>
            </a>
          </li>
          <li>
            <span>
              <span class="topic-title">Multimodal AI</span>
              <span class="topic-subtitle">One Model, Every Modality</span>
            </span>
          </li>
          <li>
            <a href="gradient-descent.html">
              <span class="topic-title">Gradient Descent</span>
              <span class="topic-subtitle">The Geometry of Gradient Descent</span>
            </a>
          </li>
          <li>
            <a href="pytorch.html">
              <span class="topic-title">PyTorch</span>
              <span class="topic-subtitle">Tensors to Multi-GPU: Visual Map</span>
            </a>
          </li>
        </ul>

        <button class="study-plan-toggle" aria-expanded="false">
          <span>80 Days LLM &amp; RAG Study Plan</span>
          <span class="study-plan-arrow">+</span>
        </button>
        <div class="study-plan-collapsible">

          <div class="phase-label">
            <span class="phase-name">Phase 1 &middot; Foundations</span>
            <span class="phase-tag">Karpathy micrograd &amp; makemore</span>
          </div>
          <ul class="topic-list">
            <li><a href="llm-day1.html"><span class="topic-title">Day 1</span><span class="topic-subtitle">The Value Class &amp; Computation Graphs</span></a></li>
            <li><a href="llm-day2.html"><span class="topic-title">Day 2</span><span class="topic-subtitle">The Backward Pass &amp; Chain Rule</span></a></li>
            <li><a href="llm-day3.html"><span class="topic-title">Day 3</span><span class="topic-subtitle">Topological Sort &amp; Full Autograd Engine</span></a></li>
            <li><a href="llm-day4.html"><span class="topic-title">Day 4</span><span class="topic-subtitle">Building a Neuron &amp; MLP from Scratch</span></a></li>
            <li><a href="llm-day5.html"><span class="topic-title">Day 5</span><span class="topic-subtitle">Training the MLP : Gradient Descent in Action</span></a></li>
            <li><a href="llm-day6.html"><span class="topic-title">Day 6</span><span class="topic-subtitle">Intro to Language Modeling : The Bigram Model</span></a></li>
            <li><a href="llm-day7.html"><span class="topic-title">Day 7</span><span class="topic-subtitle">Tensors, Broadcasting &amp; torch.Tensor Deep Dive</span></a></li>
            <li><a href="llm-day8.html"><span class="topic-title">Day 8</span><span class="topic-subtitle">Training Loops, Loss Functions &amp; Evaluation Splits</span></a></li>
            <li><a href="llm-day9.html"><span class="topic-title">Day 9</span><span class="topic-subtitle">MLP Language Model (Bengio et al. 2003)</span></a></li>
            <li><a href="llm-day10.html"><span class="topic-title">Day 10</span><span class="topic-subtitle">Embeddings, Learning Rate Schedules &amp; Hyperparameters</span></a></li>
          </ul>

          <div class="phase-label">
            <span class="phase-name">Phase 2 &middot; Deep Networks</span>
            <span class="phase-tag">makemore &amp; GPT</span>
          </div>
          <ul class="topic-list">
            <li><a href="llm-day11.html"><span class="topic-title">Day 11</span><span class="topic-subtitle">Activations &amp; Gradients : The Fragility of Deep Nets</span></a></li>
            <li><a href="llm-day12.html"><span class="topic-title">Day 12</span><span class="topic-subtitle">Batch Normalization : Taming Internal Covariate Shift</span></a></li>
            <li><a href="llm-day13.html"><span class="topic-title">Day 13</span><span class="topic-subtitle">Becoming a Backprop Ninja : Manual Tensor Backprop</span></a></li>
            <li><a href="llm-day14.html"><span class="topic-title">Day 14</span><span class="topic-subtitle">Cross-Entropy, Softmax &amp; Classification Gradients</span></a></li>
            <li><a href="llm-day15.html"><span class="topic-title">Day 15</span><span class="topic-subtitle">WaveNet Architecture : Dilated Causal Convolutions</span></a></li>
            <li><a href="llm-day16.html"><span class="topic-title">Day 16</span><span class="topic-subtitle">Self-Attention from Scratch</span></a></li>
            <li><a href="llm-day17.html"><span class="topic-title">Day 17</span><span class="topic-subtitle">Multi-Head Attention &amp; Positional Encoding</span></a></li>
            <li><a href="llm-day18.html"><span class="topic-title">Day 18</span><span class="topic-subtitle">The Transformer Block : LayerNorm, Residuals &amp; FFN</span></a></li>
            <li><a href="llm-day19.html"><span class="topic-title">Day 19</span><span class="topic-subtitle">Building GPT from Scratch : Full Architecture</span></a></li>
            <li><a href="llm-day20.html"><span class="topic-title">Day 20</span><span class="topic-subtitle">Training GPT on Shakespeare : Generation &amp; Sampling</span></a></li>
          </ul>

          <div class="phase-label">
            <span class="phase-name">Phase 3 &middot; LLM Architecture Deep Dive</span>
            <span class="phase-tag">Raschka &middot; LLMs From Scratch</span>
          </div>
          <ul class="topic-list">
            <li><a href="llm-day21.html"><span class="topic-title">Day 21</span><span class="topic-subtitle">Tokenization : Byte Pair Encoding from Scratch</span></a></li>
            <li><a href="llm-day22.html"><span class="topic-title">Day 22</span><span class="topic-subtitle">Data Preparation &amp; DataLoaders for LLMs</span></a></li>
            <li><a href="llm-day23.html"><span class="topic-title">Day 23</span><span class="topic-subtitle">Token Embeddings &amp; Positional Embeddings</span></a></li>
            <li><a href="llm-day24.html"><span class="topic-title">Day 24</span><span class="topic-subtitle">Causal Self-Attention : Masked &amp; Scaled</span></a></li>
            <li><a href="llm-day25.html"><span class="topic-title">Day 25</span><span class="topic-subtitle">The Full GPT-2 Architecture : Layer by Layer</span></a></li>
            <li><a href="llm-day26.html"><span class="topic-title">Day 26</span><span class="topic-subtitle">Pre-training Setup : Weight Init &amp; LR Warmup</span></a></li>
            <li><a href="llm-day27.html"><span class="topic-title">Day 27</span><span class="topic-subtitle">Pre-training a Small GPT on Text Data</span></a></li>
            <li><a href="llm-day28.html"><span class="topic-title">Day 28</span><span class="topic-subtitle">Generating Text : Temperature, Top-k &amp; Nucleus Sampling</span></a></li>
            <li><a href="llm-day29.html"><span class="topic-title">Day 29</span><span class="topic-subtitle">Text Classification with LLMs</span></a></li>
            <li><a href="llm-day30.html"><span class="topic-title">Day 30</span><span class="topic-subtitle">Instruction Finetuning : Dataset Format &amp; Preparation</span></a></li>
            <li><a href="llm-day31.html"><span class="topic-title">Day 31</span><span class="topic-subtitle">Supervised Finetuning (SFT) in Practice</span></a></li>
            <li><a href="llm-day32.html"><span class="topic-title">Day 32</span><span class="topic-subtitle">LoRA : Parameter-Efficient Finetuning</span></a></li>
            <li><a href="llm-day33.html"><span class="topic-title">Day 33</span><span class="topic-subtitle">RLHF : Reward Models &amp; PPO Basics</span></a></li>
            <li><a href="llm-day34.html"><span class="topic-title">Day 34</span><span class="topic-subtitle">DPO : Direct Preference Optimization</span></a></li>
            <li><a href="llm-day35.html"><span class="topic-title">Day 35</span><span class="topic-subtitle">LLM Evaluation : Perplexity, Benchmarks &amp; Human Eval</span></a></li>
          </ul>

          <div class="phase-label">
            <span class="phase-name">Phase 4 &middot; RAG &amp; Retrieval Systems</span>
            <span class="phase-tag">LlamaIndex &middot; LangChain &middot; Google NotebookLM</span>
          </div>
          <ul class="topic-list">
            <li><a href="llm-day36.html"><span class="topic-title">Day 36</span><span class="topic-subtitle">Retrieval-Augmented Generation : Why Parametric Memory Isn't Enough</span></a></li>
            <li><a href="llm-day37.html"><span class="topic-title">Day 37</span><span class="topic-subtitle">Dense vs. Sparse Retrieval : BM25, TF-IDF &amp; Bi-Encoders</span></a></li>
            <li><a href="llm-day38.html"><span class="topic-title">Day 38</span><span class="topic-subtitle">Sentence Transformers &amp; Semantic Embedding Spaces</span></a></li>
            <li><a href="llm-day39.html"><span class="topic-title">Day 39</span><span class="topic-subtitle">Vector Databases : Pinecone, Weaviate &amp; Chroma Internals</span></a></li>
            <li><a href="llm-day40.html"><span class="topic-title">Day 40</span><span class="topic-subtitle">Chunking Strategies : Fixed, Semantic &amp; Hierarchical</span></a></li>
            <li><a href="llm-day41.html"><span class="topic-title">Day 41</span><span class="topic-subtitle">Building a Naive RAG Pipeline End-to-End</span></a></li>
            <li><a href="llm-day42.html"><span class="topic-title">Day 42</span><span class="topic-subtitle">Advanced Retrieval : HyDE, MMR &amp; Contextual Compression</span></a></li>
            <li><a href="llm-day43.html"><span class="topic-title">Day 43</span><span class="topic-subtitle">Re-ranking with Cross-Encoders : Cohere &amp; FlashRank</span></a></li>
            <li><a href="llm-day44.html"><span class="topic-title">Day 44</span><span class="topic-subtitle">LlamaIndex : Document Loaders, Indices &amp; Query Engines</span></a></li>
            <li><a href="llm-day45.html"><span class="topic-title">Day 45</span><span class="topic-subtitle">Google NotebookLM : Source-Grounded Reasoning &amp; Audio Overviews</span></a></li>
          </ul>

          <div class="phase-label">
            <span class="phase-name">Phase 5 &middot; Agents &amp; Production Systems</span>
            <span class="phase-tag">LangChain &middot; OpenAI &middot; Anthropic</span>
          </div>
          <ul class="topic-list">
            <li><a href="llm-day46.html"><span class="topic-title">Day 46</span><span class="topic-subtitle">Evaluating RAG : RAGAS, Faithfulness &amp; Answer Relevance</span></a></li>
            <li><a href="llm-day47.html"><span class="topic-title">Day 47</span><span class="topic-subtitle">Prompt Engineering : Zero-shot, Few-shot &amp; Chain-of-Thought</span></a></li>
            <li><a href="llm-day48.html"><span class="topic-title">Day 48</span><span class="topic-subtitle">System Prompts, Personas &amp; Context Window Management</span></a></li>
            <li><a href="llm-day49.html"><span class="topic-title">Day 49</span><span class="topic-subtitle">Function Calling &amp; Tool Use : OpenAI, Anthropic &amp; Gemini</span></a></li>
            <li><a href="llm-day50.html"><span class="topic-title">Day 50</span><span class="topic-subtitle">LLM Agents : ReAct, Plan-and-Execute &amp; Memory Architectures</span></a></li>
            <li><a href="llm-day51.html"><span class="topic-title">Day 51</span><span class="topic-subtitle">Multi-Agent Systems : CrewAI, AutoGen &amp; Coordination Patterns</span></a></li>
            <li><a href="llm-day52.html"><span class="topic-title">Day 52</span><span class="topic-subtitle">Structured Outputs : JSON Mode, Instructor &amp; Outlines</span></a></li>
            <li><a href="llm-day53.html"><span class="topic-title">Day 53</span><span class="topic-subtitle">Guardrails &amp; Safety : NeMo Guardrails &amp; Llama Guard</span></a></li>
            <li><a href="llm-day54.html"><span class="topic-title">Day 54</span><span class="topic-subtitle">LLM Observability : LangSmith, Langfuse &amp; Tracing</span></a></li>
            <li><a href="llm-day55.html"><span class="topic-title">Day 55</span><span class="topic-subtitle">Cost &amp; Latency Optimization : Caching, Batching &amp; Model Routing</span></a></li>
          </ul>

          <div class="phase-label">
            <span class="phase-name">Phase 6 &middot; Multimodal &amp; Frontier Models</span>
            <span class="phase-tag">GPT-4o &middot; Gemini &middot; Claude 3.5</span>
          </div>
          <ul class="topic-list">
            <li><a href="llm-day56.html"><span class="topic-title">Day 56</span><span class="topic-subtitle">Vision Language Models : LLaVA, GPT-4o &amp; Gemini Vision</span></a></li>
            <li><a href="llm-day57.html"><span class="topic-title">Day 57</span><span class="topic-subtitle">Multimodal RAG : Tables, Images &amp; PDFs</span></a></li>
            <li><a href="llm-day58.html"><span class="topic-title">Day 58</span><span class="topic-subtitle">Audio &amp; Speech : Whisper, TTS &amp; Real-time Voice</span></a></li>
            <li><a href="llm-day59.html"><span class="topic-title">Day 59</span><span class="topic-subtitle">Long Context Models : Gemini 1.5, Claude 200k &amp; Needle-in-Haystack</span></a></li>
            <li><a href="llm-day60.html"><span class="topic-title">Day 60</span><span class="topic-subtitle">Mixture of Experts : Mixtral Architecture &amp; Routing Mechanisms</span></a></li>
            <li><a href="llm-day61.html"><span class="topic-title">Day 61</span><span class="topic-subtitle">Reasoning Models : Chain-of-Thought, o1 &amp; DeepSeek-R1</span></a></li>
            <li><a href="llm-day62.html"><span class="topic-title">Day 62</span><span class="topic-subtitle">Code Generation : DeepSeek Coder, Qwen &amp; GitHub Copilot</span></a></li>
            <li><a href="llm-day63.html"><span class="topic-title">Day 63</span><span class="topic-subtitle">Image Generation : Stable Diffusion, DALL-E 3 &amp; Flux</span></a></li>
            <li><a href="llm-day64.html"><span class="topic-title">Day 64</span><span class="topic-subtitle">Video &amp; World Models : Sora, Veo &amp; VideoLLMs</span></a></li>
            <li><a href="llm-day65.html"><span class="topic-title">Day 65</span><span class="topic-subtitle">Frontier Model Internals : GPT-4, Claude 3.5 &amp; Gemini Ultra</span></a></li>
          </ul>

          <div class="phase-label">
            <span class="phase-name">Phase 7 &middot; Fine-tuning &amp; Alignment</span>
            <span class="phase-tag">QLoRA &middot; DPO &middot; Constitutional AI</span>
          </div>
          <ul class="topic-list">
            <li><a href="llm-day66.html"><span class="topic-title">Day 66</span><span class="topic-subtitle">Full Fine-tuning vs. PEFT : When Each Makes Sense</span></a></li>
            <li><a href="llm-day67.html"><span class="topic-title">Day 67</span><span class="topic-subtitle">QLoRA : 4-bit Quantized Low-Rank Adaptation</span></a></li>
            <li><a href="llm-day68.html"><span class="topic-title">Day 68</span><span class="topic-subtitle">ORPO &amp; SimPO : Next-Generation Alignment Without Reference Models</span></a></li>
            <li><a href="llm-day69.html"><span class="topic-title">Day 69</span><span class="topic-subtitle">Constitutional AI &amp; RLAIF : Scaling Alignment with AI Feedback</span></a></li>
            <li><a href="llm-day70.html"><span class="topic-title">Day 70</span><span class="topic-subtitle">Synthetic Data Generation : Self-Instruct &amp; Evol-Instruct</span></a></li>
            <li><a href="llm-day71.html"><span class="topic-title">Day 71</span><span class="topic-subtitle">Continual Learning &amp; Catastrophic Forgetting in LLMs</span></a></li>
            <li><a href="llm-day72.html"><span class="topic-title">Day 72</span><span class="topic-subtitle">Model Merging : SLERP, TIES &amp; DARE</span></a></li>
          </ul>

          <div class="phase-label">
            <span class="phase-name">Phase 8 &middot; Inference, Deployment &amp; LLMOps</span>
            <span class="phase-tag">vLLM &middot; Ollama &middot; MLX</span>
          </div>
          <ul class="topic-list">
            <li><a href="llm-day73.html"><span class="topic-title">Day 73</span><span class="topic-subtitle">Quantization : INT8, INT4, GPTQ &amp; AWQ</span></a></li>
            <li><a href="llm-day74.html"><span class="topic-title">Day 74</span><span class="topic-subtitle">KV Cache &amp; Speculative Decoding : Speeding Up Autoregression</span></a></li>
            <li><a href="llm-day75.html"><span class="topic-title">Day 75</span><span class="topic-subtitle">vLLM &amp; PagedAttention : High-Throughput LLM Serving</span></a></li>
            <li><a href="llm-day76.html"><span class="topic-title">Day 76</span><span class="topic-subtitle">Ollama &amp; llama.cpp : Running LLMs Locally on Apple Silicon</span></a></li>
            <li><a href="llm-day77.html"><span class="topic-title">Day 77</span><span class="topic-subtitle">Model Compression : Pruning, Distillation &amp; Sparse Attention</span></a></li>
            <li><a href="llm-day78.html"><span class="topic-title">Day 78</span><span class="topic-subtitle">Edge Deployment : MLX, ONNX &amp; WebLLM in the Browser</span></a></li>
            <li><a href="llm-day79.html"><span class="topic-title">Day 79</span><span class="topic-subtitle">LLMOps : CI/CD for Models, Versioning &amp; Drift Detection</span></a></li>
            <li><a href="llm-day80.html"><span class="topic-title">Day 80</span><span class="topic-subtitle">Capstone : End-to-End AI-Native Product Architecture</span></a></li>
          </ul>

        </div>
      </div>
    </div>

    <!-- Folder content: Maths -->
    <div class="folder-wrapper" data-for="maths">
      <div class="folder-content">
        <div class="folder-header">
          <span class="folder-title">Maths</span>
          <button class="folder-close" aria-label="Close folder">&times;</button>
        </div>
        <p class="folder-subtitle">Mathematical foundations that shape how I reason about models and systems.</p>
        <ul class="topic-list">
          <li>
            <a href="bayesian-optimization.html">
              <span class="topic-title">Bayesian Optimization</span>
              <span class="topic-subtitle">Probabilistic search &amp; surrogate models</span>
            </a>
          </li>
          <li>
            <a href="https://www.youtube.com/playlist?list=PLhoHEZlJjdQKI1cs5yPRUYdgcsE0HctoQ" target="_blank" rel="noopener">
              <span class="topic-title">Gaussian Processes</span>
              <span class="topic-subtitle">Distributions over functions</span>
            </a>
          </li>
          <li>
            <a href="https://www.youtube.com/playlist?list=PLJHszsWbB6hrkmmq57lX8BV-o-YIOFsiG" target="_blank" rel="noopener">
              <span class="topic-title">Tensors</span>
              <span class="topic-subtitle">Multilinear algebra &amp; geometry</span>
            </a>
          </li>
          <li>
            <a href="https://www.youtube.com/playlist?list=PLBh2i93oe2qsGKDOsuVVw-OCAfprrnGfr" target="_blank" rel="noopener">
              <span class="topic-title">Hilbert Spaces</span>
              <span class="topic-subtitle">Infinite-dimensional inner product spaces</span>
            </a>
          </li>
          <li>
            <a href="https://www.youtube.com/playlist?list=PLBh2i93oe2qvRGAtgkTszX7szZDVd6jh1" target="_blank" rel="noopener">
              <span class="topic-title">Manifolds</span>
              <span class="topic-subtitle">Geometry beyond flat space</span>
            </a>
          </li>
          <li>
            <a href="https://www.youtube.com/playlist?list=PLBh2i93oe2qswFOC98oSFc37-0f4S3D4z" target="_blank" rel="noopener">
              <span class="topic-title">Probability Theory</span>
              <span class="topic-subtitle">Measure-theoretic foundations</span>
            </a>
          </li>
          <li>
            <a href="https://www.youtube.com/playlist?list=PLBh2i93oe2quLc5zaxD0WHzQTGrXMwAI6" target="_blank" rel="noopener">
              <span class="topic-title">Linear Algebra</span>
              <span class="topic-subtitle">Vectors, matrices &amp; transformations</span>
            </a>
          </li>
        </ul>
      </div>
    </div>

  </div>

  <!-- ─── Must Visits Floating Widget ─── -->
  <div class="mv-float" id="mvFloat">
    <button class="mv-fab" id="mvFab" type="button" aria-label="Must visits">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
    </button>
    <div class="mv-panel" id="mvPanel">
      <div class="mv-panel-header">
        <span class="mv-panel-title">Must visits</span>
        <button class="mv-panel-close" id="mvClose" type="button" aria-label="Close">&times;</button>
      </div>
      <div class="mv-panel-list">
        <a href="https://bestdesignsonx.com/" class="mv-item" target="_blank" rel="noopener">
          <span class="mv-name">Best Designs On X</span>
          <span class="mv-desc">Curated best design work on X.com</span>
        </a>
        <a href="https://www.blrbloom.com" class="mv-item" target="_blank" rel="noopener">
          <span class="mv-name">Bengaluru Bloom</span>
          <span class="mv-desc">Tabebuia bloom tracker for Bengaluru</span>
        </a>
        <a href="https://nonint.com/" class="mv-item" target="_blank" rel="noopener">
          <span class="mv-name">Non_Interactive</span>
          <span class="mv-desc">Software & ML — GPT-4o, DALL-E 3, compute multipliers</span>
        </a>
        <a href="https://jvns.ca/" class="mv-item" target="_blank" rel="noopener">
          <span class="mv-name">Julia Evans</span>
          <span class="mv-desc">Zines & deep explanations on Linux, DNS, Git, networking</span>
        </a>
        <a href="https://visualpde.com/" class="mv-item" target="_blank" rel="noopener">
          <span class="mv-name">VisualPDE</span>
          <span class="mv-desc">Interactive PDE simulations — waves, diffusion, patterns</span>
        </a>
        <a href="https://www.feynmanlectures.caltech.edu/I_toc.html" class="mv-item" target="_blank" rel="noopener">
          <span class="mv-name">Feynman Lectures</span>
          <span class="mv-desc">The legendary Caltech physics lectures, free online</span>
        </a>
        <a href="https://www.isfixable.com/" class="mv-item" target="_blank" rel="noopener">
          <span class="mv-name">Fixable</span>
          <span class="mv-desc">Repairable, open-hardware products for India</span>
        </a>
        <a href="https://grahamduncan.blog/" class="mv-item" target="_blank" rel="noopener">
          <span class="mv-name">Graham Duncan</span>
          <span class="mv-desc">On talent, infinite games, and letters to friends</span>
        </a>
        <a href="https://pudding.cool/" class="mv-item" target="_blank" rel="noopener">
          <span class="mv-name">The Pudding</span>
          <span class="mv-desc">Visual essays that explain ideas with data</span>
        </a>
        <a href="https://blog.ncase.me/" class="mv-item" target="_blank" rel="noopener">
          <span class="mv-name">Nicky Case</span>
          <span class="mv-desc">Interactive explorable explanations & public-domain art</span>
        </a>
      </div>
    </div>
  </div>

  <button class="back-to-top" id="backToTop" aria-label="Back to top">&uarr;</button>

  <!-- ─── AI Chat Widget ─── -->
  <button class="chat-fab" id="chatFab" type="button" aria-label="Ask about Omkar's work">
    <svg class="chat-fab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
    <span class="chat-fab-ping"></span>
  </button>

  <div class="chat-window" id="chatWindow">
    <div class="chat-header">
      <div class="chat-header-left">
        <div class="chat-avatar">O<span class="chat-online"></span></div>
        <div>
          <div class="chat-header-name">Ask Omkar's site</div>
          <div class="chat-header-status" id="chatStatus">Online — knows all 9 deep dives</div>
        </div>
      </div>
      <button class="chat-header-close" id="chatClose" type="button" aria-label="Close chat">&times;</button>
    </div>
    <div class="chat-body" id="chatBody">
      <div class="chat-msg bot chat-animate">
        <div class="chat-bubble">Hey! I know everything Omkar has published. Ask me about any topic or try one of these:</div>
      </div>
      <div class="chat-chips" id="chatChips">
        <button type="button" class="chat-chip" data-q="What has Omkar written about voice AI?">Voice AI</button>
        <button type="button" class="chat-chip" data-q="Tell me about AI agents">AI Agents</button>
        <button type="button" class="chat-chip" data-q="What fintech content is there?">Fintech</button>
        <button type="button" class="chat-chip" data-q="Who is Omkar?">About Omkar</button>
        <button type="button" class="chat-chip" data-q="Show me everything">All topics</button>
      </div>
    </div>
    <form class="chat-input-row" id="chatForm" autocomplete="off">
      <input class="chat-input" id="chatInput" type="text" placeholder="Ask about voice AI, fintech, agents..." aria-label="Your question">
      <button class="chat-send" type="submit" aria-label="Send">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
      </button>
    </form>
  </div>

  <footer>
    <p>&copy; 2026 Omkar Ray. Built with care.</p>
  </footer>

  <script>
  (function() {
    var facts = [
      { text: "Agent task length doubles every 7 months. Meta bought Manus for $2B+ and Claude Code hit a $1B run rate.", src: "Agent Design Patterns", href: "agent-design-deepdive.html" },
      { text: "Only ~15% of an agent's context window is the actual task. Tool definitions, chat history, and results eat the rest.", src: "Agent Design Patterns", href: "agent-design-deepdive.html" },
      { text: "\"Context engineering is the delicate art of filling the context window with just the right information for the next step.\" — Andrej Karpathy", src: "Agent Design Patterns", href: "agent-design-deepdive.html" },
      { text: "Programmatic Tool Calling gives +11% accuracy and -24% input tokens. Opus 4.6 with PTC is #1 on LMArena Search Arena.", src: "Seeing Like an Agent", href: "seeing-like-an-agent.html" },
      { text: "Claude Code has ~20 tools. The bar to add tool #21 is high — before adding it, ask: can progressive disclosure handle this?", src: "Seeing Like an Agent", href: "seeing-like-an-agent.html" },
      { text: "ChatGPT has 65M daily active users in India — 2x the United States. GenAI app downloads in India: 198M (2024) → 602M (2025).", src: "Indian E-Comm × GenAI", href: "india-ecomm-genai.html" },
      { text: "Meesho's ElevenLabs voice bot handles 60K calls/day with a 95% resolution rate — India's first Gen-AI voice bot at scale.", src: "Indian E-Comm × GenAI", href: "india-ecomm-genai.html" },
      { text: "BharatML: 66.9 trillion feature retrievals in FY25. Meesho open-sourced their production ML platform doing 3.12T inferences at peak.", src: "Indian E-Comm × GenAI", href: "india-ecomm-genai.html" },
      { text: "Alipay AI Pay processes 120M transactions per week. Money movement is often just a row change in their own database.", src: "Embedded Finance 2.0", href: "embedded-finance-agents.html" },
      { text: "\"When a company claims they're building AI-first, I don't ask about their LLM choice. I ask: show me your database schema.\" — Ambika Pande", src: "Embedded Finance 2.0", href: "embedded-finance-agents.html" },
      { text: "Visa's total addressable flows: $200T. Consumer payments are ~$20T. B2B alone is $145T.", src: "Visa Product Ecosystem", href: "visa-deepdive.html" },
      { text: "Visa Direct processed 10B transactions in FY24. 11.5B network tokens provisioned across 60+ countries.", src: "Visa Product Ecosystem", href: "visa-deepdive.html" },
      { text: "Datacenter rack power: 50x increase in 10 years. Volta 20kW/rack (2017) → Rubin Ultra 1,000kW/rack (2027).", src: "Building a Datacenter", href: "datacenter.html" },
      { text: "China controls ~80% of global gallium supply — needed for GaN transistors in datacenter power systems. Export restrictions active since 2025.", src: "Building a Datacenter", href: "datacenter.html" },
      { text: "13% of datacenter failures in 2024 were from cooling. Nvidia's 45°C warm-water standard removes the need for chillers (~$2M/MW).", src: "Building a Datacenter", href: "datacenter.html" },
      { text: "Bolna AI: 200K calls/day, 1,050+ customers. India processes 1 billion voice calls per day.", src: "Bolna AI", href: "bolna-deepdive.html" },
      { text: "Voice AI pipeline: ASR → LLM → TTS coordinated in under 600ms. Sub-600ms real-time coordination of 3 separate APIs.", src: "Bolna AI", href: "bolna-deepdive.html" },
      { text: "Smallest.ai achieved a 20x cost reduction: $0.20 → $0.01 per minute. Lightning V2 TTS runs at 100ms time-to-first-byte.", src: "Smallest.ai", href: "smallest-deepdive.html" },
      { text: "Replicating Smallest.ai's stack would take 24-36 months for a 5-person team with 2 ML researchers. No open-source shortcut.", src: "Smallest.ai", href: "smallest-deepdive.html" },
      { text: "\"The primary barrier to applying agents to the entire economy is building evals for everything.\" — Brendan Foody, CEO of Mercor", src: "RL Environments", href: "rl-environments.html" },
      { text: "Frontier labs have put dozens of RL environment vendors into business in the past 18 months. Environments are harder to commoditize than static datasets.", src: "RL Environments", href: "rl-environments.html" },
      { text: "India has 20% of the world's chip design engineers across 95+ semiconductor GCCs. Robotics market: $1.98B (2025) → $6.81B by 2033.", src: "Physical AI India", href: "physical-ai-india.html" },
      { text: "India imports 87-95% of processed rare earths from China despite having the 5th largest reserves globally (8.52M tonnes).", src: "Physical AI India", href: "physical-ai-india.html" },
      { text: "\"You can A/B test a landing page in an afternoon. A/B testing a voice agent prompt takes weeks of manual transcript review.\"", src: "Mixpanel for Voice AI", href: "mixpanel-voice-ai.html" },
      { text: "\"The companies that own the observability layer tend to outlast the platforms they sit on top of.\"", src: "Mixpanel for Voice AI", href: "mixpanel-voice-ai.html" },
      { text: "Ringg.ai: 3M+ lead gen calls, 150K+ loan collection calls. 10K+ concurrent call capacity at <330ms latency.", src: "Ringg.ai", href: "ringg-deepdive.html" },
      { text: "UPI processes 16B+ transactions per month — the underlying rail that embedded finance in India rides on.", src: "Embedded Finance 2.0", href: "embedded-finance-agents.html" },
      { text: "Addverb (Reliance-backed, 56%): $100M revenue FY25 target, $1B in 5 years. Designed for Indian conditions — dust, heat, power fluctuations.", src: "Physical AI India", href: "physical-ai-india.html" }
    ];

    var strip = document.getElementById('factStrip');
    var textEl = document.getElementById('factText');
    var sourceEl = document.getElementById('factSource');
    var closeBtn = document.getElementById('factClose');

    if (sessionStorage.getItem('fact_dismissed')) {
      strip.style.display = 'none';
    } else {
      var dayOfYear = Math.floor((Date.now() - new Date(new Date().getFullYear(),0,0)) / 86400000);
      var fact = facts[dayOfYear % facts.length];
      textEl.textContent = fact.text;
      sourceEl.textContent = fact.src;
      sourceEl.href = fact.href;
      strip.classList.add('visible');
    }

    closeBtn.addEventListener('click', function() {
      strip.classList.remove('visible');
      sessionStorage.setItem('fact_dismissed', '1');
      setTimeout(function() { strip.style.display = 'none'; }, 300);
    });
  })();
  </script>
  <script src="script.js"></script>
  <script>
  (function() {
    var tracks = [
      '0VjIjW4GlUZAMYd2vXMi3b','7qiZfU4dY1lWllzX7mPBI3',
      '4u7EnebtmKWzUH433cf5Qv','7MXVkk9YMctZqd1Srtv4MB',
      '39LLxExYz6ewLAo9DLQSQX','5PjdY0CKGZdEuoNab3yDmX',
      '02MWAaffLxlfxAUY7c5dvx','4Dvkj6JhhA12EX05fT7y2e',
      '0V3wPSX9ygBnCm8psDIegu','7DSAEUvxU8FajXtRloy8M0',
      '1BxfuPKGuaTgP7aM0Bbdwr','1kuGVB7EU95pJObxwvfwKS',
      '2qSkIjg1o9h3YT9RAgYN75','3KkXRkHbMCARz0aVfEt68P',
      '7BKLCZ1jbUBVqRi2FVlTVw','1zwMYTA5nlNjZxYrvBB2pV',
      '6UelLqGlWMcVH1E5c4H7lY','5QO79kh1waicV47BqGRL3g',
      '5O2P9iiztwhomNh8xkR9lJ','0tgVpDi06FyKpA1z0VMD4v',
      '1rgnBhdG2JDFTbYkYRZAku','2Fxmhks0bxGSBdJ92vM42m',
      '6habFhsOp2NvshLv26DqMb','0pqnGHJpmpxLKifKRmU6WP',
      '3Ofmpyhv5UAQ70mENLoCh1','4cOdK2wGLETKBW3PvgPWqT'
    ];

    var fab = document.getElementById('spFab');
    var player = document.getElementById('spPlayer');
    var embedDiv = document.getElementById('spEmbed');
    var shuffleBtn = document.getElementById('spShuffle');
    var closeBtn = document.getElementById('spClose');
    var lastIdx = -1;

    function loadRandom() {
      var idx;
      do { idx = Math.floor(Math.random() * tracks.length); } while (idx === lastIdx);
      lastIdx = idx;
      embedDiv.innerHTML = '<iframe src="https://open.spotify.com/embed/track/' +
        tracks[idx] + '?utm_source=generator&theme=0" width="100%" height="80" ' +
        'frameBorder="0" allow="autoplay; clipboard-write; encrypted-media; fullscreen; ' +
        'picture-in-picture" loading="lazy" style="border-radius:8px;"></iframe>';
    }

    fab.addEventListener('click', function() {
      loadRandom();
      fab.classList.add('hidden');
      player.classList.add('open');
    });

    shuffleBtn.addEventListener('click', loadRandom);

    closeBtn.addEventListener('click', function() {
      player.classList.remove('open');
      fab.classList.remove('hidden');
      embedDiv.innerHTML = '';
    });
  })();
  </script>

  <script>
  (function() {
    var mvFab = document.getElementById('mvFab');
    var mvPanel = document.getElementById('mvPanel');
    var mvClose = document.getElementById('mvClose');

    mvFab.addEventListener('click', function() {
      mvFab.classList.add('hidden');
      mvPanel.classList.add('open');
    });
    mvClose.addEventListener('click', function() {
      mvPanel.classList.remove('open');
      mvFab.classList.remove('hidden');
    });
  })();
  </script>

  <script>
  (function() {
    var kb = [
      {
        tags: ['voice ai','voice','bolna','tts','asr','speech','call','calls','voice agent','voice bot','telephony','ivr','conversational'],
        synonyms: { 'speak': 'voice', 'talk': 'voice', 'audio': 'voice', 'phone': 'call', 'sound': 'voice', 'eleven labs': 'tts', 'elevenlabs': 'tts' },
        title: 'Voice AI',
        answer: 'Omkar has written extensively about Voice AI in India. Three deep dives cover the space:',
        links: [
          { name: 'Bolna AI', href: 'bolna-deepdive.html', desc: '200K calls/day, YC W25, sub-600ms ASR→LLM→TTS pipeline' },
          { name: 'Smallest.ai', href: 'smallest-deepdive.html', desc: 'Proprietary TTS/LLM/ASR stack, 20x cost reduction to $0.01/min' },
          { name: 'Ringg.ai', href: 'ringg-deepdive.html', desc: '3M+ lead gen calls, no-code distribution-first platform' }
        ],
        extra: 'He also wrote a thesis on <a href="mixpanel-voice-ai.html">Mixpanel for Voice AI</a> — the missing analytics layer for voice agents.'
      },
      {
        tags: ['agent','agents','ai agent','claude code','cursor','manus','context','context engineering','llm agent','agentic','tool use','tool calling','scaffold'],
        synonyms: { 'assistant': 'agent', 'copilot': 'agent', 'autonomous': 'agent', 'orchestrat': 'agent' },
        title: 'AI Agents',
        answer: 'Two deep dives cover how modern AI agents work behind the scenes:',
        links: [
          { name: 'Agent Design Patterns', href: 'agent-design-deepdive.html', desc: '7 context management patterns from Claude Code, Manus & Cursor' },
          { name: 'Seeing Like an Agent', href: 'seeing-like-an-agent.html', desc: 'Tool design, action spaces & progressive disclosure' }
        ],
        extra: 'Agent task length doubles every 7 months, yet only ~15% of the context window is the actual task.'
      },
      {
        tags: ['fintech','payments','upi','visa','lending','embedded finance','payment','bank','banking','money','credit','debit','card','transaction'],
        synonyms: { 'finance': 'fintech', 'pay': 'payment', 'loan': 'lending', 'rupee': 'upi', 'npci': 'upi', 'mastercard': 'visa' },
        title: 'Fintech',
        answer: 'Omkar tracks fintech closely — payments, lending, and embedded finance:',
        links: [
          { name: 'Visa Product Ecosystem', href: 'visa-deepdive.html', desc: '$200T addressable flows, concentric expansion beyond cards' },
          { name: 'Embedded Finance 2.0', href: 'embedded-finance-agents.html', desc: 'When fintech becomes a function call — agentic commerce stack' }
        ],
        extra: 'He also maintains a reading list on UPI, digital lending, and regtech on the homepage.'
      },
      {
        tags: ['ecommerce','e-commerce','ecomm','flipkart','swiggy','meesho','amazon','india ecomm','genai','commerce','shopping','delivery','quick commerce'],
        synonyms: { 'shop': 'ecommerce', 'retail': 'ecommerce', 'blinkit': 'quick commerce', 'zepto': 'quick commerce', 'zomato': 'swiggy' },
        title: 'Indian E-Commerce × GenAI',
        answer: 'How India\'s top platforms deploy GenAI across commerce:',
        links: [
          { name: 'Indian E-Comm × GenAI', href: 'india-ecomm-genai.html', desc: 'Flipkart, Swiggy, Meesho, Amazon India — 65M ChatGPT DAUs in India' }
        ],
        extra: 'GenAI app downloads in India: 198M (2024) → 602M (2025). 3x in one year.'
      },
      {
        tags: ['datacenter','data center','gpu','rack','cooling','nvidia','infrastructure','power','server','chip','semiconductor'],
        synonyms: { 'hardware': 'datacenter', 'compute': 'gpu', 'cluster': 'datacenter', 'energy': 'power' },
        title: 'Datacenter Infrastructure',
        answer: 'A deep dive on the six layers being forced into simultaneous transition:',
        links: [
          { name: 'Building a Datacenter', href: 'datacenter.html', desc: 'Rack power 50x in 10 years, cooling crisis, gallium supply chains' }
        ],
        extra: 'China controls ~80% of global gallium supply — critical for GaN transistors in datacenter power.'
      },
      {
        tags: ['rl','reinforcement learning','environment','environments','training','eval','evals','reward','policy','gym'],
        synonyms: { 'benchmark': 'eval', 'simulate': 'environment', 'simulation': 'environment' },
        title: 'RL Environments',
        answer: 'A thesis on why RL environments are the new data moat:',
        links: [
          { name: 'RL Environments Are the New Data Moat', href: 'rl-environments.html', desc: 'RL scaling consumes environment interactions — who builds the gyms wins' }
        ],
        extra: '"The primary barrier to applying agents to the entire economy is building evals for everything." — Brendan Foody, Mercor'
      },
      {
        tags: ['robotics','robot','physical ai','rare earth','manufacturing','addverb','india robotics','automation','warehouse'],
        synonyms: { 'factory': 'manufacturing', 'assembly': 'manufacturing', 'drone': 'robotics', 'humanoid': 'robot' },
        title: 'Physical AI & Robotics',
        answer: 'A thesis on India\'s opportunity in physical AI and robotics:',
        links: [
          { name: 'Physical AI & Robotics: The India Thesis', href: 'physical-ai-india.html', desc: '$1.98B market, 20% of world\'s chip designers, rare earth reserves' }
        ],
        extra: 'India has the 5th largest rare earth reserves but imports 87-95% of processed supply from China.'
      },
      {
        tags: ['transformer','transformers','attention','gpt','llm','language model','neural','deep learning','ml','machine learning','karpathy','pre-training','fine-tuning','finetuning'],
        synonyms: { 'model': 'llm', 'openai': 'gpt', 'anthropic': 'llm', 'google': 'llm', 'gemini': 'llm', 'mistral': 'llm', 'deepseek': 'llm', 'train': 'training' },
        title: 'ML & Transformers',
        answer: 'Omkar studies ML from first principles with an 80-day study plan:',
        links: [
          { name: 'Transformers', href: 'transformers.html', desc: 'Attention Is All You Need, and why' },
          { name: 'Gradient Descent', href: 'gradient-descent.html', desc: 'The geometry of gradient descent' },
          { name: 'PyTorch', href: 'pytorch.html', desc: 'Tensors to multi-GPU — visual map' }
        ],
        extra: 'The plan covers micrograd → makemore → GPT from scratch → RAG → agents → deployment. 80 lessons total.'
      },
      {
        tags: ['rag','retrieval','vector','embedding','search','chunking','llamaindex','langchain','pinecone','chroma','weaviate'],
        synonyms: { 'database': 'vector', 'index': 'retrieval', 'semantic': 'embedding', 'knowledge base': 'rag' },
        title: 'RAG & Retrieval',
        answer: 'Phase 4 of the 80-day study plan covers RAG deeply:',
        links: [
          { name: 'RAG Deep Dive', href: 'rag.html', desc: 'Retrieval-Augmented Generation done right' }
        ],
        extra: 'Covers dense vs sparse retrieval, chunking strategies, HyDE, re-ranking, and LlamaIndex internals.'
      },
      {
        tags: ['blog','substack','taste','world model','chatgpt','glp','meesho delivery','writing','article','post'],
        synonyms: { 'newsletter': 'substack', 'essay': 'blog', 'opinion': 'blog' },
        title: 'Blog Posts',
        answer: 'Shorter pieces on Substack:',
        links: [
          { name: 'Taste Is the New Bottleneck', href: 'https://omkarray.substack.com/p/taste-is-the-new-bottleneck', desc: 'Why taste matters more than technical skill now' },
          { name: 'The World Model Gold Rush', href: 'https://omkarray.substack.com/p/the-world-model-gold-rush-why-most', desc: 'Why most world-model startups will fail' },
          { name: 'Why "Just Use ChatGPT" Is a Strategic Failure', href: 'https://omkarray.substack.com/p/why-just-use-chatgpt-is-a-strategic', desc: 'The hidden cost of defaulting to ChatGPT' }
        ],
        extra: 'Also covers India\'s GLP-1 moment and Meesho\'s quick commerce strategy.'
      },
      {
        tags: ['analytics','observability','mixpanel','voice analytics','conversation','funnel','monitoring','metrics'],
        synonyms: { 'dashboard': 'analytics', 'tracking': 'analytics', 'telemetry': 'observability' },
        title: 'Voice AI Analytics',
        answer: 'A thesis on the missing product analytics layer for voice AI:',
        links: [
          { name: 'Mixpanel for Voice AI', href: 'mixpanel-voice-ai.html', desc: 'Conversation funnels, turn-level drop-off, intent resolution heatmaps' }
        ],
        extra: '"You can A/B test a landing page in an afternoon. A/B testing a voice agent prompt takes weeks of manual transcript review."'
      },
      {
        tags: ['math','maths','bayesian','gaussian','tensor','hilbert','manifold','probability','linear algebra','calculus','statistics'],
        synonyms: { 'equation': 'math', 'proof': 'math', 'theorem': 'math', 'matrix': 'linear algebra', 'stat': 'statistics' },
        title: 'Mathematics',
        answer: 'Mathematical foundations behind ML:',
        links: [
          { name: 'Bayesian Optimization', href: 'bayesian-optimization.html', desc: 'Probabilistic search & surrogate models' }
        ],
        extra: 'Also studies Gaussian processes, tensors, Hilbert spaces, manifolds, probability theory, and linear algebra — all on the homepage.'
      }
    ];

    var synonymMap = {};
    kb.forEach(function(entry) {
      if (entry.synonyms) {
        for (var k in entry.synonyms) synonymMap[k] = entry.synonyms[k];
      }
    });

    function stem(word) {
      return word.replace(/(ation|ment|ness|ity|ing|tion|sion|ment|able|ible|ful|less|ous|ive|ly|er|ed|es|s)$/i, '');
    }

    function fuzzyMatch(a, b) {
      if (a === b) return 0;
      if (a.length < 3 || b.length < 3) return 99;
      var m = a.length, n = b.length;
      if (Math.abs(m - n) > 2) return 99;
      var d = [];
      for (var i = 0; i <= m; i++) { d[i] = [i]; }
      for (var j = 0; j <= n; j++) { d[0][j] = j; }
      for (i = 1; i <= m; i++) {
        for (j = 1; j <= n; j++) {
          d[i][j] = Math.min(
            d[i-1][j] + 1,
            d[i][j-1] + 1,
            d[i-1][j-1] + (a[i-1] === b[j-1] ? 0 : 1)
          );
        }
      }
      return d[m][n];
    }

    function scoreEntry(entry, words) {
      var score = 0;
      var matched = {};
      words.forEach(function(w) {
        var ws = stem(w);
        entry.tags.forEach(function(tag) {
          var parts = tag.split(' ');
          parts.forEach(function(tp) {
            var ts = stem(tp);
            if (w === tp) { score += 3; matched[tag] = true; }
            else if (ws === ts && ws.length >= 3) { score += 2.5; matched[tag] = true; }
            else if (tp.indexOf(w) === 0 || w.indexOf(tp) === 0) { score += 1.5; matched[tag] = true; }
            else if (w.length >= 4 && fuzzyMatch(w, tp) <= 1) { score += 1; matched[tag] = true; }
          });
        });
        if (synonymMap[w]) {
          var syn = synonymMap[w];
          entry.tags.forEach(function(tag) {
            if (tag.indexOf(syn) !== -1) { score += 2; matched[tag] = true; }
          });
        }
        entry.tags.forEach(function(tag) {
          if (tag.length > 3 && w.length > 3 && tag.indexOf(w) !== -1) {
            score += 1.5; matched[tag] = true;
          }
        });
      });
      return score;
    }

    function buildLinkCards(links) {
      var html = '';
      links.forEach(function(l) {
        html += '<a class="chat-link-card" href="' + l.href + '">' +
          '<div class="chat-link-card-title">' + l.name + '</div>' +
          '<div class="chat-link-card-desc">' + l.desc + '</div></a>';
      });
      return html;
    }

    var chatFab = document.getElementById('chatFab');
    var chatWindow = document.getElementById('chatWindow');
    var chatClose = document.getElementById('chatClose');
    var chatBody = document.getElementById('chatBody');
    var chatForm = document.getElementById('chatForm');
    var chatInput = document.getElementById('chatInput');
    var chatStatus = document.getElementById('chatStatus');
    var chatChips = document.getElementById('chatChips');

    chatFab.addEventListener('click', function() {
      chatFab.classList.add('hidden');
      chatWindow.classList.add('open');
      chatInput.focus();
    });
    chatClose.addEventListener('click', function() {
      chatWindow.classList.remove('open');
      chatFab.classList.remove('hidden');
    });

    function addMsg(html, isUser) {
      var div = document.createElement('div');
      div.className = 'chat-msg ' + (isUser ? 'user' : 'bot') + ' chat-animate';
      div.innerHTML = '<div class="chat-bubble">' + html + '</div>';
      chatBody.appendChild(div);
      chatBody.scrollTop = chatBody.scrollHeight;
    }

    function addChips(suggestions) {
      var wrap = document.createElement('div');
      wrap.className = 'chat-chips chat-animate';
      suggestions.forEach(function(s) {
        var btn = document.createElement('button');
        btn.type = 'button';
        btn.className = 'chat-chip';
        btn.setAttribute('data-q', s.q);
        btn.textContent = s.label;
        wrap.appendChild(btn);
      });
      chatBody.appendChild(wrap);
      chatBody.scrollTop = chatBody.scrollHeight;
    }

    function showTyping() {
      chatStatus.textContent = 'Typing...';
      var div = document.createElement('div');
      div.className = 'chat-msg bot';
      div.id = 'chatTyping';
      div.innerHTML = '<div class="chat-typing"><span></span><span></span><span></span></div>';
      chatBody.appendChild(div);
      chatBody.scrollTop = chatBody.scrollHeight;
    }
    function hideTyping() {
      chatStatus.textContent = 'Online — knows all 9 deep dives';
      var t = document.getElementById('chatTyping');
      if (t) t.remove();
    }

    function buildResponse(q) {
      var ql = q.toLowerCase().replace(/[?!.,;:'"()]/g, '').replace(/\s+/g, ' ').trim();
      var words = ql.split(' ').filter(function(w) { return w.length > 1; });

      if (/^(hi|hello|hey|sup|yo|howdy|hola|namaste)\b/.test(ql)) {
        return { text: 'Hey! I know everything across Omkar\'s 9 deep dives, 3 theses, and 5 blog posts. What are you curious about?', chips: [
          { label: 'Voice AI startups', q: 'Tell me about voice AI startups' },
          { label: 'Agent patterns', q: 'How do AI agents work?' },
          { label: 'India fintech', q: 'What fintech content is there?' }
        ]};
      }
      if (/who is omkar|about omkar|about you|who are you|about him|who made this|who built|background|experience/.test(ql)) {
        return { text: '<strong>Omkar Ray</strong> — Product Manager at <strong>ixigo</strong>.<br><br>' +
          'Likes working on hard problems that don\'t have clean answers yet — where depth matters more than coordination and real judgment beats process. Writes long-form deep dives, studies ML from first principles, and tracks what\'s actually shipping in Indian tech.' +
          buildLinkCards([
            { name: 'X / Twitter', href: 'https://x.com/OmkarRay9', desc: '@OmkarRay9' },
            { name: 'LinkedIn', href: 'https://www.linkedin.com/in/omkarray/', desc: 'in/omkarray' },
            { name: 'Substack', href: 'https://omkarray.substack.com/', desc: 'omkarray.substack.com' }
          ]),
          chips: [
            { label: 'What does he write about?', q: 'Show me everything' },
            { label: 'Recommend a deep dive', q: 'Which deep dive should I read first?' }
          ]};
      }
      if (/show me everything|all (topics|content|deep ?dives)|what.*write about|what.*cover|overview|everything|list|catalog/.test(ql)) {
        var allHtml = 'Here\'s everything on the site:<br>';
        kb.forEach(function(e) {
          allHtml += buildLinkCards(e.links);
        });
        return { text: allHtml, chips: [
          { label: 'Which is the best?', q: 'Which deep dive should I read first?' },
          { label: 'Latest posts', q: 'What are the latest blog posts?' }
        ]};
      }
      if (/how many|count|number of|how much content/.test(ql)) {
        return { text: '<strong>9</strong> deep dives, <strong>3</strong> investment theses, <strong>5</strong> Substack blog posts, and an <strong>80-day</strong> ML study plan covering 80 lessons from micrograd to production RAG.', chips: [
          { label: 'Deep dives', q: 'Show me all deep dives' },
          { label: 'Study plan', q: 'Tell me about the ML study plan' }
        ]};
      }
      if (/recommend|suggest|best|start|first|favorite|favourite|should i read/.test(ql)) {
        return { text: 'If you\'re into AI, start with <strong>Agent Design Patterns</strong> — it\'s the most popular. For fintech, <strong>Visa\'s Product Ecosystem</strong> is a favourite. For something unique, the <strong>Voice AI trilogy</strong> (Bolna, Smallest, Ringg) is one-of-a-kind analysis.' +
          buildLinkCards([
            { name: 'Agent Design Patterns', href: 'agent-design-deepdive.html', desc: 'Most popular — 7 patterns from Claude Code & Manus' },
            { name: 'Visa Product Ecosystem', href: 'visa-deepdive.html', desc: '$200T opportunity, concentric expansion' },
            { name: 'Bolna AI', href: 'bolna-deepdive.html', desc: 'Start of the Voice AI trilogy' }
          ]) };
      }
      if (/india|indian/.test(ql) && !/ecomm|flipkart|swiggy|meesho|amazon/.test(ql)) {
        return { text: 'Omkar covers several India-specific themes:', chips: [
          { label: 'India E-Commerce', q: 'Indian ecommerce and GenAI' },
          { label: 'India Robotics', q: 'Physical AI India thesis' },
          { label: 'India Fintech', q: 'UPI and embedded finance' },
          { label: 'Voice AI in India', q: 'Voice AI startups in India' }
        ]};
      }
      if (/thank|thanks|cheers|appreciate|great|awesome|cool|nice/.test(ql)) {
        return { text: 'Glad I could help! Anything else you want to explore?', chips: [
          { label: 'Something new', q: 'Recommend something to read' },
          { label: 'All topics', q: 'Show me everything' }
        ]};
      }
      if (/bye|goodbye|see you|later/.test(ql)) {
        return { text: 'See you! Come back anytime — new deep dives drop regularly.' };
      }

      var scored = [];
      kb.forEach(function(entry) {
        var s = scoreEntry(entry, words);
        if (s > 0) scored.push({ entry: entry, score: s });
      });
      scored.sort(function(a, b) { return b.score - a.score; });

      if (scored.length >= 2 && scored[1].score >= scored[0].score * 0.5) {
        var html = 'I found a couple of relevant topics:<br><br>';
        html += '<strong>' + scored[0].entry.title + '</strong>';
        html += buildLinkCards(scored[0].entry.links);
        html += '<br><strong>' + scored[1].entry.title + '</strong>';
        html += buildLinkCards(scored[1].entry.links);
        return { text: html };
      }

      if (scored.length >= 1) {
        var best = scored[0].entry;
        var h = best.answer + buildLinkCards(best.links);
        if (best.extra) h += '<div class="chat-extra">' + best.extra + '</div>';
        var relatedChips = [];
        if (scored.length > 1) {
          relatedChips.push({ label: 'Also: ' + scored[1].entry.title, q: 'Tell me about ' + scored[1].entry.title });
        }
        return { text: h, chips: relatedChips };
      }

      var topics = kb.map(function(e) { return e.title; });
      return { text: 'Hmm, I couldn\'t find a match for that. I know about these topics:', chips: topics.slice(0, 6).map(function(t) {
        return { label: t, q: 'Tell me about ' + t };
      })};
    }

    function handleQuery(q) {
      addMsg(q.replace(/</g,'&lt;'), true);
      if (chatChips) { chatChips.remove(); chatChips = null; }
      document.querySelectorAll('.chat-body .chat-chips').forEach(function(c) { c.remove(); });
      chatInput.value = '';
      showTyping();
      var delay = 500 + Math.random() * 500;
      setTimeout(function() {
        hideTyping();
        var resp = buildResponse(q);
        addMsg(resp.text, false);
        if (resp.chips && resp.chips.length) addChips(resp.chips);
      }, delay);
    }

    chatForm.addEventListener('submit', function(e) {
      e.preventDefault();
      var q = chatInput.value.trim();
      if (!q) return;
      handleQuery(q);
    });

    chatBody.addEventListener('click', function(e) {
      var chip = e.target.closest('.chat-chip');
      if (chip && chip.dataset.q) handleQuery(chip.dataset.q);
    });
  })();
  </script>
</body>
</html>
